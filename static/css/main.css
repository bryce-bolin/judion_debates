/* Basic text */
.md { line-height: 1.5; font-size: 0.98rem; }
.md p { margin: 0.4rem 0; }

/* Headers */
.md h1, .md h2, .md h3, .md h4, .md h5, .md h6 {
  margin: 0.6rem 0 0.35rem;
  line-height: 1.25;
  font-weight: 700;
}
.md h1 { font-size: 1.45rem; }
.md h2 { font-size: 1.28rem; }
.md h3 { font-size: 1.15rem; }
.md h4, .md h5, .md h6 { font-size: 1.02rem; }

/* Lists */
.md ul, .md ol { margin: 0.4rem 0 0.6rem 1.25rem; }
.md li { margin: 0.15rem 0; }

/* Emphasis (bold/italic) */
.md strong { font-weight: 700; }
.md em { font-style: italic; }

/* Blockquote */
.md blockquote {
  margin: 0.5rem 0;
  padding: 0.5rem 0.8rem;
  border-left: 3px solid #3c3c3c;
  background: #0d0d0d;
  color: #dcdcdc;
  border-radius: 8px;
}

/* Code inline */
.md code {
  background: #0f1512;
  color: #9AE6B4;          /* soft green */
  border: 1px solid #18382c;
  padding: 0.1rem 0.35rem;
  border-radius: 6px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  font-size: 0.92rem;
}

/* Code blocks (inside .codewrap) */
.md pre {
  position: relative;
  background: transparent;         /* wrapper handles bg */
  border: 0;                       /* wrapper handles border */
  border-radius: 0 0 12px 12px;    /* straight top corners */
  padding: 0.9rem 1rem;
  margin: 0;                       /* sit flush under header */
  overflow: auto;
}
.md pre code {
  background: transparent;
  border: 0;
  padding: 0;
  color: #d6f5e1;                  /* light mint */
  display: block;
  white-space: pre;                 /* keep code formatting */
}

/* Copy button inside ChatGPT-style header */
.codewrap .copy-btn {
  border: 1px solid #2b2b2b;
  background: #101614;
  color: #cceedd;
  font-size: 0.78rem;
  padding: 4px 10px;
  border-radius: 10px;
  cursor: pointer;
  transition: background .15s ease;
}
.codewrap .copy-btn:hover { background: #0f1e19; }
.codewrap .copy-btn.copied {
  color: #9AE6B4;
  border-color: #2f6b56;
}

/* Chat bubbles (compact) */
.bubble {
  display: inline-block;
  max-width: 70%;
  padding: 0.42rem 0.62rem;   /* tighter */
  margin: 0.22rem 0;          /* tighter */
  border-radius: 18px;
  border: 1px solid #333;
  line-height: 1.22;          /* tighter */
  word-wrap: break-word;
  white-space: normal;
}
.bubble-user   { background:#1b1b1b; border-color:#2d2d2d; }
.bubble-assist { background:#121212; border-color:#2a2a2a; }

/* Responsive container */
@media (max-width: 720px) {
  .bubble { max-width: 100%; }
}

/* ===== FINAL COMPACT CHAT BUBBLE OVERRIDES ===== */
/* keep rows from stretching bubbles */
.row-user, .row-assist { align-items: flex-start !important; }
.row-user > .bubble, .row-assist > .bubble { flex: 0 0 auto; width: auto; }

/* shorter bubbles */
.bubble{
  font-size: .94rem !important;
  line-height: 1.16 !important;
  padding: .34rem .60rem !important;
  margin: .14rem 0 !important;
  border-radius: 14px !important;
}

/* smaller username line, tighter gap */
.meta{
  font-size: .72rem !important;
  margin-bottom: .08rem !important;
  color: #a8a8a8 !important;
}

/* tighten Bootstrap row spacing just in the chat area */
#main .mb-2{ margin-bottom: .22rem !important; }

/* ---------- Markdown INSIDE bubbles only ---------- */
.bubble .md,
.bubble .md-body{
  font-size: .94rem !important;
  line-height: 1.16 !important;
}

/* headings should not blow up bubble height */
.bubble .md h1,
.bubble .md h2,
.bubble .md h3,
.bubble .md h4,
.bubble .md h5,
.bubble .md h6{
  margin: .10rem 0 .06rem !important;
  line-height: 1.12 !important;
  font-weight: 700 !important;
}
.bubble .md h1{ font-size: 1.02rem !important; }
.bubble .md h2{ font-size: 1.00rem !important; }
.bubble .md h3,
.bubble .md h4,
.bubble .md h5,
.bubble .md h6{ font-size: .98rem !important; }

/* paragraphs super tight */
.bubble .md p{ margin: .12rem 0 !important; }

/* lists like “1. Python:” shouldn’t look like big sections */
.bubble .md ol,
.bubble .md ul{
  margin: .10rem 0 .10rem .9rem !important;
  padding-left: .9rem !important;
  list-style-position: inside !important;
}
.bubble .md li{ margin: .04rem 0 !important; }
.bubble .md li > p{ margin: 0 !important; }

/* quotes tighter */
.bubble .md blockquote{
  margin: .12rem 0 !important;
  padding: .34rem .52rem !important;
  border-left: 2px solid #333 !important;
}

/* inline code compact */
.bubble code:not(pre code){
  padding: 0 .20rem !important;
  border-radius: .26rem !important;
  font-size: .9em !important;
}

/* code blocks inside bubbles: trim space */
.bubble .codewrap{ margin: .18rem 0 !important; }
.bubble .codewrap-header{ padding: .36rem .56rem !important; }
.bubble .codewrap pre{
  padding: .64rem .84rem !important;
  line-height: 1.20 !important;
}
/* ===== FINAL COMPACT CHAT + CODE OVERRIDES ===== */

/* Shorter bubbles */
.bubble{padding:.32rem .60rem!important;margin:.16rem 0!important;line-height:1.20!important;border-radius:16px!important}
.bubble .meta{font-size:.72rem!important;margin-bottom:.08rem!important;color:#a8a8a8!important}

/* Trim markdown spacing inside bubbles hard */
.bubble .md-body>*{margin:0!important}
.bubble .md-body p+p{margin-top:.18rem!important}
.bubble .md-body h1,
.bubble .md-body h2,
.bubble .md-body h3,
.bubble .md-body h4,
.bubble .md-body h5,
.bubble .md-body h6{margin:.12rem 0!important;font-size:1.0rem!important;line-height:1.18!important}
.bubble .md-body ul,
.bubble .md-body ol{margin:.18rem 0 .18rem 1rem!important}
.bubble .md-body blockquote{margin:.18rem 0!important}

/* Tighter code block inside bubbles */
.bubble .md-body pre{padding:.6rem .75rem!important;line-height:1.22!important;font-size:.90rem!important}

/* Inline code a touch tighter */
.bubble .md-body code:not(pre code){padding:0 .20rem!important}

/* Code wrapper header compact + no stray list numbers */
.codewrap{margin:.25rem 0!important}
.codewrap ol, .codewrap ul{list-style:none!important;margin:0!important;padding:0!important}

/* Ensure no copy button appears inside the <pre> area */
.codewrap pre > .copy-btn{display:none!important}